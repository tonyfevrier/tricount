{% extends 'layout.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/common.css' %}">
    <link rel="stylesheet" href="{% static 'css/newcount.css' %}">
    <title>Nouveau tricount</title>
{% endblock %}

{% block header %}
    <a href="{% url 'listecount' %}" class = "backtotricount" id = "backtotricount"><img src="{%static 'images/back.png' %}" alt="Retour en arrière"></a>
    <div class = "titre">Nouveau tricount</div>
{% endblock %}

{% block main %}  

        <form method="POST" class = "newtricount" action="{% url 'addcount' %}">
            {% csrf_token %}

            <input type ="text" class = "newtricount_title" placeholder="Titre" name = "newtricount_title" autocomplete="off">  
 
            <p class="error" id="title-error" hidden >Le titre doit comporter au moins un caractère.</p>

            <input type="password" class = "newtricount_pwd" placeholder="Entrez un mot de passe" name = "newtricount_pwd" autocomplete="new-password">

            <p class = "error" id="pwd-error" hidden>Il faut un mot de passe</p>

            <input type ="text" class = "newtricount_description" placeholder="Description" name = "newtricount_description">
            
            <a href="/choosecurrency?referer=/newcount" class = "choose-currency"><input type="text" class = "newtricount_currency" placeholder="{{currency}}" value = "{{currency}}" name = "newtricount_currency"></a>
            

            <p class="title_category"> Catégorie </p> 
            <div class = "category" name = "category" >
                <input class = "newtricount_category" type="radio" id="trip" name="newtricount_category" value="trip">
                <label for="trip">Voyage</label>
                <input class = "newtricount_category" type="radio" id="coloc" name="newtricount_category" value="coloc">
                <label for="coloc">Coloc</label>
                <input class = "newtricount_category" type="radio" id="couple" name="newtricount_category" value="couple">
                <label for="couple">Couple</label>
                <input class = "newtricount_category" type="radio" id="event" name="newtricount_category" value="event">
                <label for="event">Evénement</label>
                <input class = "newtricount_category" type="radio" id="project" name="newtricount_category" value="project">
                <label for="project">Projet</label>
                <input class = "newtricount_category" type="radio" id="other" name="newtricount_category" value="other">
                <label for="other">Autre</label>
            </div>

            <p class="error" id="category-error" hidden >Il faut choisir une catégorie.</p>


            <button class = "submittricount" name = "submit"> <img src="{% static 'images/check.png' %}" alt="validation"></button> 

            <input type="text" class="formparticipant" value = "{{user}}" name = "formparticipant" hidden>

        </form>

        <div class = "nb_participants"> Participants (1/50)</div>

        <div class = "participants-container">
            <div class = "printparticipant">
                <input class = "nameparticipant" type="text" value = "{{user}}" name = "nameparticipant">
                <button class = "closeparticipant" name = "{{user}}" ><img src="/static/images/close.png" alt="fermeture"></button>
            </div> 
        </div>

        <div class="form-participant">
            <input type ="text" name="new_participant" class ='new_participant' placeholder="Autre participant">
            <button class = "add_participant">Ajouter</button> 
        </div>
        <p class="error participant-error" id="participant-error" hidden>Il faut au moins un participant.</p> 
{% endblock %}

{% block js %}
    <script src = "{%static 'js/newcount.js'%}"></script> 
{% endblock %}